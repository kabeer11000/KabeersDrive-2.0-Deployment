(this.webpackJsonpkabeersdrive=this.webpackJsonpkabeersdrive||[]).push([[15],{237:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r="".concat(window.location.protocol,"//").concat(window.location.host),a={getFolderById:function(e){return"".concat(r,"/api/get/folder/").concat(e||window.user.user_id)},getSharedFolderById:function(e){return"".concat(r,"/api/get/shared/folder/").concat(e)},getFolderByFake:function(e){return"https://raw.githubusercontent.com/kabeer11000/sample-response/master/Drive/folder.json"},changeFileSharing:function(e){return"".concat(r,"/api/sharing/file/").concat(e)},changeFileSharingFake:function(e,t){return"https://cdn.jsdelivr.net/gh/kabeer11000/sample-response@master/Drive/folder.json"},noPreviewAvailable:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/modal/no-preview.php?d=".concat(e)},textFileViewer:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/uViewFile.php?id=".concat(e)},documentViewer:function(e){return"https://docs.google.com/gview?url=".concat(e,"&embedded=true")},fileDownloadById:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/downloaders/download-file.php?id=".concat(e)},searchByQuery:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=".concat(e)},userGetAllContentsMyDrive:"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all",userGetAllContentsFolder:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all&folder=".concat(e)},userSearchContentsMyDrive:"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all",loginByUuid:"http://drive.hosted-kabeersnetwork.unaux.com/server/api/login.php",internalLoginComponentRoute:"/login",fileUpload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"".concat(r,"/api/upload/").concat(e)},authRedirect:"".concat(r,"/auth/redirect"),refreshToken:"".concat(r,"/auth/store/tokens/refresh"),getRecentFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"".concat(r,"/api/get/recent/file/").concat(e||"")},getFileDetailsById:function(e){return"".concat(r,"/api/get/file/").concat(e)},createNewFolder:function(){return"".concat(r,"/api/create/new/folder")},getUserData:"".concat(r,"/auth/user/data"),filePath:"http://kabeer11000.mzzhost.com/",filePathReadFile:function(e){return"https://vector-kabeersnetwork.000webhostapp.com/view-text.php?i=".concat(e)},filePathRaw:function(e){return"https://vector-kabeersnetwork.000webhostapp.com/drive-hosted/".concat(e)},bulkDeleteFiles:"".concat(r,"/api/delete/bulk/file"),deleteOneFile:function(e){return"".concat(r,"/api/delete/file/").concat(e)}}},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={searchResults:"searchResults____bEBwhcQE1V",userData:"userData____arP4OlQ8QC"}},241:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return l}));var r=n(238),a=n.n(r),o=n(239),c=n(48),i=n(237),u=(n(0),function(e){return e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce((function(e,t){var n=t.split("="),r=Object(c.a)(n,2),a=r[0],o=r[1];return e[a]=o?decodeURIComponent(o.replace(/\+/g," ")):"",e}),{}):{}}),s=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("a"),e.abrupt("return",(n.setAttribute("download",t.name),n.href=i.a.fileDownloadById(t.id),document.body.appendChild(n),n.click(),n.remove()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d={files:{includeScore:!1,useExtendedSearch:!1,shouldSort:!1,threshold:.5,findAllMatches:!1,minMatchCharLength:0,keys:["name","mimeType","shared","dateCreated"]},folders:{includeScore:!1,useExtendedSearch:!1,shouldSort:!1,threshold:.5,findAllMatches:!1,minMatchCharLength:0,keys:["name","shared"]}},l=function(e){return Object.keys(e).reduce((function(t,n){return t.push(n+"="+encodeURIComponent(e[n])),t}),[]).join("&")}},243:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var r=n(238),a=n.n(r),o=n(239),c=n(237),i=n(240),u=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""},s=function(){return!!u("token")},d=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new AbortController,o=u("token")){e.next=4;break}return e.abrupt("return",window.location.href=c.a.authRedirect);case 4:if(o=JSON.parse(o),!(Math.floor((Date.now()-o.exp)/1e3/60)>120)){e.next=9;break}return e.next=8,fetch(c.a.refreshToken,{signal:r.signal},5e3).then((function(e){return e.ok?e.json():null}));case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",o.token);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u("user_data_token")){e.next=2;break}return e.abrupt("return",window.location.href=c.a.authRedirect);case 2:if(null!==localStorage.getItem(i.a.userData)){e.next=6;break}return e.abrupt("return",fetch(c.a.getUserData,{headers:new Headers({IdToken:JSON.parse(u("user_data_token")).token})}).then((function(e){return e.json()})).then((function(e){return localStorage.setItem(i.a.userData,btoa(JSON.stringify(e)))})).catch((function(e){return console.log(e)})));case 6:return e.next=8,void(window.user=JSON.parse(atob(localStorage.getItem(i.a.userData))));case 8:case"end":return e.stop()}}),e)})))()},244:function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return m})),n.d(t,"d",(function(){return k}));var r=n(238),a=n.n(r),o=n(239),c=n(237),i=n(254),u=n(241),s=n(240),d=n(243),l=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:new AbortController,e.next=3,fetch(c.a.getFolderById(t),{headers:new Headers({Authorization:"Bearer ".concat(n)}),signal:r.signal}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,o=i.length>3&&void 0!==i[3]?i[3]:new AbortController,e.next=4,fetch(c.a.fileUpload(r||JSON.parse(atob(localStorage.getItem(s.a.userData))).user_id),{method:"POST",headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:o.signal,body:n}).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=(function(e){var t=new Blob(["self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);r.json=function(e){return"object"===typeof e?postMessage(JSON.stringify(e).toString()):new Error("Property Not an Object")},r.end=function(){return r.postMessage("end")},r.get=r.onmessage}((function(e){var t=JSON.parse(e.data);fetch(t.url,t).then((function(e){return e.json()})).then((function(e){return postMessage(JSON.stringify(e))}))})),function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:void 0,o=i.length>3&&void 0!==i[3]?i[3]:new AbortController,e.next=4,fetch(c.a.createNewFolder(),{method:"POST",headers:new Headers({Authorization:"Bearer ".concat(t),"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),signal:o.signal,body:Object(u.d)({name:n||"Untitled Folder",id:r})}).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:new AbortController,e.abrupt("return",Object(d.b)().then((function(e){return fetch(c.a.changeFileSharing(t),{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Authorization:"Bearer ".concat(e)}),body:Object(u.d)({sharing:n}),signal:r.signal})})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:new AbortController,e.abrupt("return",Object(d.b)().then((function(e){return fetch(c.a.bulkDeleteFiles,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Authorization:"Bearer ".concat(e)}),body:Object(u.d)({ids:t.join("|")}),signal:n.signal})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,e.abrupt("return",n?fetch(c.a.userGetAllContentsFolder(n),{}).then((function(e){return e.json()})).then((function(e){return{files:new i.a(e.items.files,u.b.files).search(t),folders:new i.a(e.items.folders,u.b.folders).search(t)}})):fetch("http://cdn.jsdelivr.net/gh/kabeer11000/sample-response/Drive/search-filter-all.json").then((function(e){return e.json()})).then((function(e){return{files:new i.a(e.items.files,u.b.files).search(t),folders:new i.a(e.items.folders,u.b.folders).search(t)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>2&&void 0!==r[2]?r[2]:10,e.next=3,fetch(c.a.getRecentFiles(10),{headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:n.signal}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c.a.getFileDetailsById(r),{headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:n.signal}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:new AbortController,e.next=3,fetch(c.a.getFolderById(n),{headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:r.signal}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},284:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(12),c=n(0),i=(n(5),n(3)),u=n(6),s=n(8),d=c.forwardRef((function(e,t){var n=e.classes,o=e.className,u=e.component,d=void 0===u?"div":u,l=e.disableGutters,f=void 0!==l&&l,h=e.fixed,p=void 0!==h&&h,b=e.maxWidth,g=void 0===b?"lg":b,v=Object(a.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return c.createElement(d,Object(r.a)({className:Object(i.a)(n.root,o,p&&n.fixed,f&&n.disableGutters,!1!==g&&n["maxWidth".concat(Object(s.a)(String(g)))]),ref:t},v))}));t.a=Object(u.a)((function(e){return{root:Object(o.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Object(o.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(o.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(o.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(o.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(o.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},382:function(e,t,n){},413:function(e,t,n){"use strict";n.r(t);var r=n(48),a=n(0),o=n.n(a),c=(n(382),n(284)),i=n(112),u=n(243),s=n(244),d=n(241),l=function(){var e=o.a.useState(null),t=Object(r.a)(e,2),n=t[0],a=t[1],l=new AbortController;return o.a.useEffect((function(){return Object(u.b)().then((function(e){Object(s.f)(Object(d.c)("id").id||"",e,l).then((function(e){return a(e)})).catch((function(e){return null}))})),function(){l.abort()}}),[]),o.a.createElement("div",{className:"SharedFolderView"},o.a.createElement(c.a,{className:"px-1"},n?o.a.createElement(i.a,{embedded:!0,id:n.metaData.id}):null))};l.defaultProps={},t.default=l}}]);
//# sourceMappingURL=15.e94a3b8a.chunk.js.map