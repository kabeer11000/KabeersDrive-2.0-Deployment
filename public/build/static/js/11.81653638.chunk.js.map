{"version":3,"sources":["api/EndPoints.js","functions/StorageIndex.js","functions/Misc.js","functions/Auth.js","functions/AfterAuthFunctions.js","functions/FilesFolders.js","functions/Worker/createWorker.js","functions/IconDictionary.js","components/AppBarComponent/AppBarComponent.js","components/FileViewer/FileViewer.js"],"names":["hostName","window","location","protocol","host","endPoints","getFolderById","id","user","user_id","getSharedFolderById","getFolderByFake","changeFileSharing","changeFileSharingFake","method","noPreviewAvailable","textFileViewer","documentViewer","path","fileDownloadById","searchByQuery","q","userGetAllContentsMyDrive","userGetAllContentsFolder","userSearchContentsMyDrive","loginByUuid","internalLoginComponentRoute","fileUpload","folderId","authRedirect","refreshToken","getRecentFiles","n","getFileDetailsById","createNewFolder","getUserData","filePath","filePathReadFile","filePathRaw","bulkDeleteFiles","deleteOneFile","storageIndex","searchResults","userData","getQueryStringParams","query","test","slice","split","reduce","params","param","key","value","decodeURIComponent","replace","downloadFile","e","a","o","document","createElement","setAttribute","name","href","body","appendChild","click","remove","fuseOptions","files","includeScore","useExtendedSearch","shouldSort","threshold","findAllMatches","minMatchCharLength","keys","folders","makeBody","obj","Object","k","push","encodeURIComponent","join","cookies","t","cookie","length","r","charAt","substring","indexOf","checkTokenExists","initAuth","input","init","abortController","AbortController","token","JSON","parse","Math","floor","Date","now","exp","fetch","signal","then","res","ok","json","localStorage","getItem","headers","Headers","setItem","btoa","stringify","catch","console","log","atob","uploadFormDataAsFile","formData","Blob","toString","type","URL","createObjectURL","worker","Worker","postMessage","Error","end","get","onmessage","createWorker","s","data","url","parentFolder","undefined","changeFileLinkSharing","sharing","deleteManyFiles","ids","searchUserFiles","Fuse","items","search","getFileInfoById","getFolderInfo","fileDeleteOne","detectIcon","useStyles","makeStyles","theme","root","padding","display","alignItems","width","marginLeft","spacing","flex","iconButton","divider","height","margin","HideOnScroll","props","direction","appear","children","trigger","useScrollTrigger","target","in","AppBarComponent","classes","React","useState","searchRes","setSearchRes","useContext","DrawerContext","drawerOpen","handleDrawer","SearchingContext","searching","setSearching","searchHelper","Fragment","style","zIndex","elevation","className","position","component","top","left","aria-label","onClick","onKeyUp","placeholder","title","inputProps","orientation","maxWidth","maxHeight","overflow","map","index","button","item","mimeType","primary","open","defaultProps","pure","appBar","Transition","forwardRef","ref","fetchCode","text","CodeBlock","useAsync","promiseFn","error","wordWrap","whiteSpace","message","EmbeddedFileViewer","file","transform","onLoad","loading","src","alt","fileUrl","pageNumber","FileViewer","fileId","pathname","setOpen","setFile","history","useHistory","useEffect","goBack","alert","fullScreen","onClose","TransitionComponent","PaperProps","backgroundColor","edge","color","variant","noWrap"],"mappings":"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","file":"static/js/11.81653638.chunk.js","sourcesContent":["export const hostName = `${window.location.protocol}//${window.location.host}`;\r\n//export const hostName = `${window.location.protocol}//${window.location.hostname}:9000`;\r\n//export const Proxy = `https://kabeersmusic.herokuapp.com/proxy/`;\r\n\r\nexport const endPoints = {\r\n    getFolderById: id => `${hostName}/api/get/folder/${id ? id : window.user.user_id}`,\r\n    getSharedFolderById: id => `${hostName}/api/get/shared/folder/${id}`,\r\n    getFolderByFake: id => `https://raw.githubusercontent.com/kabeer11000/sample-response/master/Drive/folder.json`,\r\n    changeFileSharing: (id) => `${hostName}/api/sharing/file/${id}`,\r\n    changeFileSharingFake: (id, method) => `https://cdn.jsdelivr.net/gh/kabeer11000/sample-response@master/Drive/folder.json`,\r\n    noPreviewAvailable: (id) => `http://drive.hosted-kabeersnetwork.unaux.com/server/modal/no-preview.php?d=${id}`,\r\n    textFileViewer: (id) => `http://drive.hosted-kabeersnetwork.unaux.com/uViewFile.php?id=${id}`,\r\n    documentViewer: (path) => `https://docs.google.com/gview?url=${path}&embedded=true`,\r\n    fileDownloadById: (id) => `http://drive.hosted-kabeersnetwork.unaux.com/server/downloaders/download-file.php?id=${id}`,\r\n    searchByQuery: (q) => `http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=${q}`,\r\n    userGetAllContentsMyDrive: `http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all`,\r\n    userGetAllContentsFolder: (id) => `http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all&folder=${id}`,\r\n    userSearchContentsMyDrive: `http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all`,\r\n\r\n    loginByUuid: `http://drive.hosted-kabeersnetwork.unaux.com/server/api/login.php`,\r\n    internalLoginComponentRoute: `/login`,\r\n    fileUpload: (folderId = null) => `${hostName}/api/upload/${folderId}`,\r\n    authRedirect: `${hostName}/auth/redirect`,\r\n    refreshToken: `${hostName}/auth/store/tokens/refresh`,\r\n    getRecentFiles: (n = null) => `${hostName}/api/get/recent/file/${n ? n : \"\"}`,\r\n    getFileDetailsById: (id) => `${hostName}/api/get/file/${id}`,\r\n    createNewFolder: () => `${hostName}/api/create/new/folder`,\r\n\r\n    getUserData: `${hostName}/auth/user/data`,\r\n\r\n\r\n    filePath: `http://kabeer11000.mzzhost.com/`,\r\n//    filePathReadFile: (path) => `http://kabeer11000.mzzhost.com/index.php?i=${encodeURIComponent(path)}`\r\n    filePathReadFile: (path) => `https://vector-kabeersnetwork.000webhostapp.com/view-text.php?i=${path}`,\r\n    filePathRaw: (path) => `https://vector-kabeersnetwork.000webhostapp.com/drive-hosted/${path}`,\r\n\r\n\r\n    bulkDeleteFiles: `${hostName}/api/delete/bulk/file`,\r\n    deleteOneFile: (id) => `${hostName}/api/delete/file/${id}`,\r\n};\r\n","// bEBwhcQE1V\r\n// JZmRIEFbqd\r\n// E6m3KGcRfs\r\n// Ny021O5XCT\r\n// kNtCSIPYxF\r\n// dRym3kEfAW\r\n// 1uwJHpMhMI\r\n// L7PsgoKBEc\r\n// 58PwZwPuK0\r\n// OpA0tX4wuj\r\n// UhWfLeP3CE\r\n// eGS6x1yt1U\r\n// gHVDhAVEf6\r\n// jSoAlZQT48\r\n// dC1VT7OGou\r\n// CYxF7gqKjy\r\n// N1nr4Wpixt\r\n// nz9tt60dOw\r\n// ENx7vr8Qbh\r\n// o3TS3qKt0O\r\n// LbwftNT5X0\r\n// l5UiqnvJ4V\r\n// eAwH1Gn9vS\r\n// gVMsONxrSs\r\n// HwvVjJiiWo\r\n// IvIBWicBj8\r\n// 9dCUPW0Xjd\r\n// arP4OlQ8QC\r\nexport const storageIndex = {\r\n    searchResults: `searchResults____bEBwhcQE1V`,\r\n    userData: `userData____arP4OlQ8QC`,\r\n};\r\n","import {endPoints} from \"../api/EndPoints\";\r\nimport React from \"react\";\r\n\r\nexport const getQueryStringParams = query => {\r\n    return query\r\n        ? (/^[?#]/.test(query) ? query.slice(1) : query)\r\n            .split('&')\r\n            .reduce((params, param) => {\r\n                    let [key, value] = param.split('=');\r\n                    params[key] = value ? decodeURIComponent(value.replace(/\\+/g, ' ')) : '';\r\n                    return params;\r\n                }, {}\r\n            )\r\n        : {}\r\n};\r\nexport const downloadFile = async e => {\r\n    const o = document.createElement(\"a\");\r\n    return o.setAttribute(\"download\", e.name), o.href = endPoints.fileDownloadById(e.id), document.body.appendChild(o), o.click(), o.remove();\r\n};\r\nexport const searchFiles = async q => await fetch(endPoints.searchByQuery(q)).then(res => res.json());\r\nexport const fuseOptions = {\r\n    files: {\r\n        includeScore: false,\r\n        useExtendedSearch: false,\r\n        shouldSort: false,\r\n        threshold: 0.5,\r\n        findAllMatches: false,\r\n        minMatchCharLength: 0,\r\n        keys: [\r\n            \"name\",\r\n            \"mimeType\",\r\n            \"shared\",\r\n            \"dateCreated\"\r\n        ]\r\n    },\r\n    folders: {\r\n        includeScore: false,\r\n        useExtendedSearch: false,\r\n        shouldSort: false,\r\n        threshold: 0.5,\r\n        findAllMatches: false,\r\n        minMatchCharLength: 0,\r\n        keys: [\r\n            \"name\",\r\n            \"shared\",\r\n        ]\r\n    }\r\n};\r\n/**\r\n *\r\n * @param arr1 The initial array\r\n * @param arr2 The array to remove\r\n * @param prop the key of the object to match on\r\n */\r\n/*\r\nexport const differenceByPropVal = (arr1, arr2, prop) => arr1.filter((a) => !arr2.find((b) => b[prop] === a[prop]));\r\nArray.prototype.removeContained = async function(array) {\r\n    let i = this.length, results = [];\r\n    while (i--) if (array.indexOf(this[i]) !== -1) results.push(this.splice(i, 1));\r\n    return results;\r\n};\r\nexport const removeFilterObjectsFromArray = (main, filtrate) => main.filter(x => !filtrate.filter(y => y.id === x.id).length);\r\n\r\n\r\n\r\n//props.folder.files.filter(x => !currentlySelecting.files.filter(y => y.id === x.id).length)\r\n//props.folder.files.filter(file => !currentlySelecting.files.find(f => f.id === file.id))\r\n//props.folder.files.filter(file => currentlySelecting.files.findIndex(f => f.id === file.id))\r\nprops.handleBulkFileDelete(props.folder.files.filter(file => currentlySelecting.files.findIndex(f => f.id === file.id)));\r\nsetCurrentlySelecting({\r\n    dialog: false,\r\n    files: []\r\n});\r\n})\r\nconst filterObjectArray = (arr, filterArr) => arr.filter(el => filterArr.some(f => f.id !== el.id));\r\n*/\r\nexport const makeBody = (obj) => Object.keys(obj).reduce(function (a, k) {\r\n    a.push(k + '=' + encodeURIComponent(obj[k]));\r\n    return a;\r\n}, []).join('&');\r\nexport const toUrlEncoded = obj => Object.keys(obj).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(obj[k])).join('&');\r\n","import {endPoints} from \"../api/EndPoints\";\r\nimport {storageIndex} from \"./StorageIndex\";\r\nimport AfterAuthFunctions from \"./AfterAuthFunctions\";\r\n\r\nconst cookies = {\r\n    getCookie(e) {\r\n        for (let t = e + \"=\", o = decodeURIComponent(document.cookie).split(\";\"), n = 0; n < o.length; n++) {\r\n            for (var r = o[n]; \" \" === r.charAt(0);) r = r.substring(1);\r\n            if (0 === r.indexOf(t)) return r.substring(t.length, r.length);\r\n        }\r\n        return \"\";\r\n    }, setCookie(e, t, o) {\r\n        const n = new Date;\r\n        n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3);\r\n        const r = \"expires=\" + n.toUTCString();\r\n        document.cookie = e + \"=\" + t + \";\" + r + \";path=/\";\r\n    }\r\n};\r\nexport const checkTokenExists = () => !!cookies.getCookie(\"token\");\r\nexport const initAuth = async (input, init) => {\r\n    const abortController = new AbortController();\r\n    let token = cookies.getCookie(\"token\");\r\n    if (!token) {\r\n        return window.location.href = endPoints.authRedirect;\r\n        //return new Error(\"Failed to Auth, Redirecting\");\r\n    }\r\n    token = JSON.parse(token);\r\n    if (Math.floor(((Date.now() - token.exp) / 1000) / 60) > 120) { // Two Hours\r\n        return await fetch(endPoints.refreshToken, {\r\n            signal: abortController.signal\r\n        }, 5000).then(res => res.ok ? res.json() : null);\r\n    } // Expired\r\n    return token.token; // Return Token\r\n};\r\n\r\n(async () => {\r\n    if (!cookies.getCookie(\"user_data_token\")) return window.location.href = endPoints.authRedirect;\r\n    if (localStorage.getItem(storageIndex.userData) === null || undefined) return fetch(endPoints.getUserData, {\r\n        headers: new Headers({\r\n            \"IdToken\": JSON.parse(cookies.getCookie(\"user_data_token\")).token\r\n        })\r\n    })\r\n        .then(res => res.json())\r\n        .then(userData => localStorage.setItem(storageIndex.userData, btoa(JSON.stringify(userData))))\r\n        .catch(e => console.log(e));\r\n    else await AfterAuthFunctions();\r\n    //Every thing is fine joe\r\n})();\r\n","import {storageIndex} from \"./StorageIndex\";\r\n\r\nexport default () => {\r\n    window.user = JSON.parse(atob(localStorage.getItem(storageIndex.userData)));\r\n\r\n}\r\n","import {endPoints} from \"../api/EndPoints\";\r\nimport Fuse from \"fuse.js\";\r\nimport {fuseOptions, makeBody} from \"./Misc\";\r\nimport {storageIndex} from \"./StorageIndex\";\r\nimport {initAuth} from \"./Auth\";\r\nimport {createWorker} from \"./Worker/createWorker\";\r\n\r\nexport const getFolderById = async (id, token, abortController = new AbortController) => await fetch(endPoints.getFolderById(id), {\r\n    headers: new Headers({\r\n        \"Authorization\": `Bearer ${token}`\r\n    }),\r\n    signal: abortController.signal\r\n}).then(res => res.json());\r\nexport const uploadFormDataAsFile = async (token, formData, id = null, abortController = new AbortController()) => await fetch(endPoints.fileUpload(id || JSON.parse(atob(localStorage.getItem(storageIndex.userData))).user_id), {\r\n    method: \"POST\",\r\n    headers: new Headers({\r\n        \"Authorization\": `Bearer ${token}`\r\n    }),\r\n    signal: abortController.signal,\r\n    body: formData\r\n}).then(value => value.json());\r\nconst fetchWorker = createWorker(e => {\r\n    const s = JSON.parse(e.data);\r\n    fetch(s.url, s).then(e => e.json()).then(e => postMessage(JSON.stringify(e)));\r\n});\r\n\r\nexport const createNewFolder = async (token, name, parentFolder = undefined, abortController = new AbortController()) => await fetch(endPoints.createNewFolder(), {\r\n    method: \"POST\",\r\n    headers: new Headers({\r\n        \"Authorization\": `Bearer ${token}`,\r\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n    }),\r\n    signal: abortController.signal,\r\n    body: makeBody({\r\n        name: name || \"Untitled Folder\",\r\n        id: parentFolder\r\n    })\r\n}).then(value => value.json());\r\n\r\nexport const changeFileLinkSharing = async (id, method, abortController = new AbortController()) => initAuth().then(token => fetch(endPoints.changeFileSharing(id), {\r\n    method: \"POST\",\r\n    headers: new Headers({\r\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\r\n        \"Authorization\": `Bearer ${token}`,\r\n    }),\r\n    body: makeBody({\r\n        sharing: method\r\n    }),\r\n    signal: abortController.signal\r\n}));\r\nexport const deleteManyFiles = async (ids, abortController = new AbortController()) => initAuth().then(token => fetch(endPoints.bulkDeleteFiles, {\r\n    method: \"POST\",\r\n    headers: new Headers({\r\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\r\n        \"Authorization\": `Bearer ${token}`,\r\n    }),\r\n    body: makeBody({\r\n        ids: ids.join(\"|\")\r\n    }),\r\n    signal: abortController.signal\r\n}));\r\nexport const searchUserFiles = async (q, folderId = null) => folderId ? fetch(endPoints.userGetAllContentsFolder(folderId), {})\r\n    .then(res => res.json())\r\n    .then((res) => ({\r\n        files: new Fuse(res.items.files, fuseOptions.files).search(q),\r\n        folders: new Fuse(res.items.folders, fuseOptions.folders).search(q)\r\n    })) : fetch(\"http://cdn.jsdelivr.net/gh/kabeer11000/sample-response/Drive/search-filter-all.json\")\r\n    .then(res => res.json())\r\n    .then((res) => ({\r\n        files: new Fuse(res.items.files, fuseOptions.files).search(q),\r\n        folders: new Fuse(res.items.folders, fuseOptions.folders).search(q)\r\n    }));\r\nexport const getRecentFiles = async (token, abortController, n = 10) => await fetch(endPoints.getRecentFiles(10), {\r\n    headers: new Headers({\r\n        \"Authorization\": `Bearer ${token}`\r\n    }),\r\n    signal: abortController.signal\r\n}).then(value => value.json());\r\nexport const getFileInfoById = async (token, abortController, id) => await fetch(endPoints.getFileDetailsById(id), {\r\n    headers: new Headers({\r\n        \"Authorization\": `Bearer ${token}`\r\n    }),\r\n    signal: abortController.signal\r\n}).then(value => value.json());\r\nexport const getFolderInfo = async (token, id, abortController = new AbortController()) => await fetch(endPoints.getFolderById(id), {\r\n    headers: new Headers({\r\n        \"Authorization\": `Bearer ${token}`\r\n    }),\r\n    signal: abortController.signal\r\n}).then(value => value.json());\r\nexport const fileDeleteOne = async () => {\r\n};\r\n// export const fileDeleteOne = async (id, abortController = new AbortController()) => await initAuth().then(async token => await fetch(endPoints.deleteOneFile(id), {\r\n//     method: \"POST\",\r\n//     headers: new Headers({\r\n//         \"Authorization\": `Bearer ${token}`\r\n//     }),\r\n//     signal: abortController.signal\r\n// }).then(value => value.json()));\r\n//searchUserFiles(\"pdf\").then((v) => alert(JSON.stringify(v)));\r\n","export const createWorker = (e) => {\n\tconst r = new Blob([\"self.onmessage = \", e.toString()], {type: \"text/javascript\"}), t = URL.createObjectURL(r);\n\tconst worker = new Worker(t);\n\tworker.json = (obj) => {\n\t\tif (typeof obj === \"object\") return postMessage(JSON.stringify(obj).toString());\n\t\treturn new Error(\"Property Not an Object\");\n\t};\n\tworker.end = () => worker.postMessage(\"end\");\n\tworker.get = worker.onmessage;\n\treturn worker;\n};\n","import {BrokenImage, Code, Image, InsertDriveFile, Movie, PictureAsPdf, Subject} from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport {endPoints} from \"../api/EndPoints\";\r\n\r\nexport const IconDictionary = {\r\n    image: [\r\n        \"image/png\",\r\n        \"image/jpg\",\r\n        \"image/jpeg\",\r\n        \"image/gif\",\r\n        \"image/svg\",\r\n        \"image/svg+xml\",\r\n    ],\r\n    video: [\r\n        \"video/ogg\",\r\n        \"video/m4a\",\r\n        \"video/ogg\",\r\n        \"video/mov\",\r\n        \"video/mp4\"\r\n    ],\r\n    code: [\r\n        \"text/css\",\r\n        \"text/x-php\",\r\n        \"text/html\",\r\n        \"text/xhtml\",\r\n        \"text/javscript\"\r\n    ],\r\n    doc: [\r\n        \"application/vnd.ms-powerpoint\",\r\n        \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\r\n        \"application/rtf\",\r\n        \"application/msword\",\r\n        \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\r\n    ],\r\n    txt: [\r\n        \"text/plain\",\r\n\r\n    ],\r\n    pdf: [\r\n        \"application/pdf\",\r\n        \"application/x-pdf\",\r\n    ],\r\n    none: []\r\n};\r\nexport const detectIcon = (type) => {\r\n    switch (type) {\r\n        case \"image\":\r\n            return <Image/>;\r\n        case \"video\":\r\n            return <Movie/>;\r\n        case \"code\":\r\n            return <Code/>;\r\n        case \"document\":\r\n            return <InsertDriveFile/>;\r\n        case \"text\":\r\n            return <Subject/>;\r\n        case \"pdf\":\r\n            return <PictureAsPdf/>;\r\n        default:\r\n            return <BrokenImage/>;\r\n    }\r\n};\r\nexport const detectMime = (file) => {\r\n    const driveRawPath = `http://drive.hosted-kabeersnetwork.unaux.com/user-files`;\r\n    switch (true) {\r\n        case IconDictionary.image.includes(file.mime):\r\n            return {\r\n                \"data-type\": \"image\",\r\n                \"data-src\": `${driveRawPath}/${file.path}`\r\n            };\r\n        case IconDictionary.video.includes(file.mime):\r\n            return {\r\n                \"data-type\": \"video\",\r\n                \"data-src\": `${driveRawPath}/${file.path}`\r\n            };\r\n        case IconDictionary.code.includes(file.mime):\r\n            return {\r\n                \"data-type\": \"iframe\",\r\n                \"data-src\": endPoints.textFileViewer(file.id)\r\n            };\r\n        case IconDictionary.doc.includes(file.mime):\r\n            return {\r\n                \"data-type\": \"iframe\",\r\n                \"data-src\": endPoints.documentViewer(file.path)\r\n            };\r\n        case IconDictionary.txt.includes(file.mime):\r\n            return {\r\n                \"data-type\": \"iframe\",\r\n                \"data-src\": endPoints.textFileViewer(file.id)\r\n            };\r\n        case IconDictionary.pdf.includes(file.mime):\r\n            return {\r\n                \"data-type\": \"iframe\",\r\n                \"data-src\": endPoints.documentViewer(file.path)\r\n            };\r\n        default:\r\n            return {\r\n                \"data-type\": \"iframe\",\r\n                \"data-src\": endPoints.noPreviewAvailable(file.id)\r\n            };\r\n    }\r\n};\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './AppBarComponent.css';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Slide from \"@material-ui/core/Slide\";\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\nimport {pure} from \"recompose\";\n//import List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {searchUserFiles} from \"../../functions/FilesFolders\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport {ArrowBack, Folder} from \"@material-ui/icons\";\nimport {detectIcon} from \"../../functions/IconDictionary\";\n//import {List as VirtualList} from 'react-virtualized';\nimport {getQueryStringParams} from \"../../functions/Misc\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport {DrawerContext, SearchingContext} from \"../../contexts/Contexts\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        width: '90%',\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: 10,\n    },\n    divider: {\n        height: 28,\n        margin: 4,\n    },\n}));\nexport const HideOnScroll = (props = {...props, direction: \"down\", appear: false}) => {\n    const {children, window} = props;\n    const trigger = useScrollTrigger({target: window ? window() : undefined});\n    return (\n        <Slide appear={props.appear} direction={props.direction} in={!trigger}>\n            {children}\n        </Slide>\n    );\n};\n\nHideOnScroll.propTypes = {\n    children: PropTypes.element.isRequired,\n    /**\n     * Injected by the documentation to work in an iframe.\n     * You won't need it on your project.\n     */\n    window: PropTypes.func,\n};\n\nconst AppBarComponent = (props) => {\n    const classes = useStyles();\n    const [searchRes, setSearchRes] = React.useState(null);\n    const [drawerOpen, handleDrawer] = React.useContext(DrawerContext);\n    const [searching, setSearching] = React.useContext(SearchingContext);\n    const searchHelper = async (e) => searchUserFiles(e.target.value, getQueryStringParams(\"id\").id || null).then(setSearchRes).catch(e => null).then(() => console.log(\"called\"));\n    return (\n        <React.Fragment>\n            <HideOnScroll style={{zIndex: \"5\"}}>\n                <AppBar elevation={0} className={\"bg-transparent\"} position={\"sticky\"}>\n                    <div className={\"d-flex justify-content-center\"}>\n                        <Paper component=\"form\" className={`${classes.root}  mt-3`} style={{\n                            top: \"50%\",\n                            left: \"50%\",\n                            zIndex: \"5\"\n                        }}>\n                            <IconButton className={classes.iconButton} aria-label=\"menu\" onClick={handleDrawer}>\n                                {\n                                    drawerOpen ? <ArrowBack/> : <MenuIcon/>\n                                }\n                            </IconButton>\n                            <InputBase\n                                onClick={() => setSearching(!searching)}\n                                onKeyUp={searchHelper}\n                                className={classes.input}\n                                placeholder={`Search ${props.title}` || \"Search Kabeers Drive\"}\n                                inputProps={{'aria-label': 'search kabeers drive'}}\n                            />\n                            <Zoom in={false} direction={\"right\"}>\n                                <React.Fragment>\n                                    <Divider className={classes.divider} orientation=\"vertical\"/>\n                                    <IconButton className={classes.iconButton} aria-label=\"directions\">\n                                        <SearchIcon/>\n                                    </IconButton>\n                                </React.Fragment>\n                            </Zoom>\n                        </Paper>\n                    </div>\n                    {\n                        searching ? (\n                            <React.Fragment>\n                                <br/>\n                                <div className={\"d-flex justify-content-center\"}>\n                                    <Paper className={\"mt-0\"}\n                                           style={{\n                                               width: \"90vw\",\n                                               maxWidth: \"90vw\",\n                                               maxHeight: \"82.5vh\",\n                                               overflow: \"hidden\",\n                                               zIndex: \"5\"\n                                           }}>\n                                        {\n                                            searchRes ? (\n                                                <React.Fragment>\n                                                    {\n                                                        searchRes.files.map((value, index) => (\n                                                            <ListItem button key={index}>\n                                                                <ListItemIcon>\n                                                                    {detectIcon(value.item.mimeType)}\n                                                                </ListItemIcon>\n                                                                <ListItemText primary={`${value.item.name}`}/>\n                                                            </ListItem>\n                                                        ))\n                                                    }\n                                                    {\n                                                        searchRes.folders.map((value, index) => (\n                                                            <ListItem button key={index}>\n                                                                <ListItemIcon>\n                                                                    <Folder/>\n                                                                </ListItemIcon>\n                                                                <ListItemText primary={`${value.item.name}`}/>\n                                                            </ListItem>\n                                                        ))\n                                                    }\n                                                </React.Fragment>\n                                            ) : null\n                                        }\n                                    </Paper>\n                                </div>\n                            </React.Fragment>\n                        ) : null\n                    }\n                </AppBar>\n            </HideOnScroll>\n            <Backdrop open={searching} style={{zIndex: \"3\"}} onClick={() => setSearching(!searching)}/>\n        </React.Fragment>\n    );\n};\n\nAppBarComponent.propTypes = {\n    title: PropTypes.string.isRequired,\n};\n\nAppBarComponent.defaultProps = {};\n\n//export default onlyUpdateForKeys(['currentlySearching'])(pure(AppBarComponent));\nexport default pure(AppBarComponent);\n/*\n                        <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\n                            <SearchIcon/>\n                        </IconButton>\n\n            <Backdrop open={props.currentlySearching} onClick={props.handleSearch}/>\n */\n","import React, {useEffect} from 'react';\nimport './FileViewer.css';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport {ArrowBack, MoreVert} from \"@material-ui/icons\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {checkTokenExists, initAuth} from \"../../functions/Auth\";\nimport {getFileInfoById} from \"../../functions/FilesFolders\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport {Document, Page} from 'react-pdf';\nimport {useHistory} from \"react-router-dom\";\nimport Container from \"@material-ui/core/Container\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport {HideOnScroll} from \"../AppBarComponent/AppBarComponent\";\nimport PDFViewer from '@phuocng/react-pdf-viewer';\nimport {endPoints} from \"../../api/EndPoints\";\nimport {useAsync} from \"react-async\";\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        position: 'relative',\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"left\" ref={ref} {...props} />;\n});\nconst fetchCode = async ({url}, {signal}) => await fetch(url, {signal}).then(res => res.text());\n\nconst CodeBlock = ({url}) => {\n    const {data, error} = useAsync({\n        promiseFn: fetchCode,\n        url,\n    });\n    return <code>\n        <pre style={{wordWrap: \"break-word\", whiteSpace: \"pre-wrap\"}}>{error ? error.message : data}</pre>\n    </code>;\n};\nconst EmbeddedFileViewer = (props) => {\n    switch (props.file.type) {\n        case \"image\":\n            return (\n                <React.Fragment>\n                    <div style={{\n                        transform: \"translate(0%, 0%)\",\n                        left: \"50%\",\n                        top: \"50%\"\n                    }}>\n                        <img\n                            onLoad={props.onLoad}\n                            loading={\"lazy\"}\n                            className={\"w-100 h-100\"}\n                            //src={\"https://images.unsplash.com/photo-1602039439011-5ca16c81bd85?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60\"}\n                            src={`${endPoints.filePathReadFile(props.file.path)}`}\n                            alt={props.file.name}\n                        />\n                    </div>\n                </React.Fragment>\n            );\n        case \"video\":\n            return (\n                <React.Fragment>\n                    <Container maxWidth={\"xs\"}>\n                        <div style={{\n                            transform: \"translate(0%, 0%)\",\n                            left: \"50%\",\n                            top: \"50%\"\n                        }}>\n                            <video className={\"w-100 h-100\"}\n                                   onLoad={props.onLoad}\n                                   src={endPoints.filePathReadFile(props.file.path)}/>\n                        </div>\n                    </Container>\n                </React.Fragment>\n            );\n        case \"document\":\n            return (\n                <React.Fragment>\n                    <Container maxWidth={\"xs\"}>\n                        <PDFViewer\n                            fileUrl={endPoints.filePathReadFile(props.file.path)}/>\n                    </Container>\n                </React.Fragment>\n            );\n        case \"pdf\":\n            return (\n                <React.Fragment>\n                    <Container maxWidth={\"xs\"} style={{height: \"100vh\", width: \"100vw\"}}>\n                        <Document\n                            file={endPoints.filePathReadFile(props.file.path)}\n                        >\n                            <Page pageNumber={0}/>\n                        </Document>\n                    </Container>\n                </React.Fragment>\n            );\n        case \"text\":\n            return (\n                <React.Fragment>\n                    <Container maxWidth={\"md\"}>\n                        <CodeBlock url={endPoints.filePathReadFile(props.file.path)}/>\n                    </Container>\n                </React.Fragment>\n            );\n        case \"code\":\n            return (\n                <React.Fragment>\n                    <Container maxWidth={\"md\"}>\n                        <CodeBlock url={endPoints.filePathReadFile(props.file.path)}/>\n                    </Container>\n                </React.Fragment>\n            );\n        default:\n            return (\n                <React.Fragment>\n                    <Container maxWidth={\"md\"}>\n                        <CodeBlock url={endPoints.filePathReadFile(props.file.path)}/>\n                    </Container>\n                </React.Fragment>\n            );\n\n    }\n};\nconst FileViewer = (props) => {\n    const fileId = window.location.pathname.split(\"/\").slice(-1)[0];\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(true);\n    const [file, setFile] = React.useState(false);\n    const abortController = new AbortController();\n    const history = useHistory();\n\n    const handleClose = () => {\n        setOpen(false);\n        history.goBack();\n    };\n    useEffect(() => {\n        checkTokenExists() ? initAuth()\n            .then(token => getFileInfoById(token, abortController, fileId)\n                .then(file => setFile(file))\n                .catch(e => history.goBack()))\n            .catch(e => null) : alert(\"Not Loggedin\");\n\n\n    }, []);\n    useEffect(() => {\n        console.log(file);\n    }, [file]);\n    return (\n        <div>\n            {file ? (\n                <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}\n                        PaperProps={{\n                            className: \"bg-transparent\",\n                            backgroundColor: \"transparent\"\n                        }}>\n                    <HideOnScroll>\n                        <AppBar position=\"static\" elevation={2} className={\"bg-transparent\"}>\n                            <Toolbar>\n                                <IconButton onClick={() => {\n                                    history.goBack();\n                                }} edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n                                    <ArrowBack/>\n                                </IconButton>\n                                <Typography variant={\"h6\"} className={\"text-truncate\"} noWrap>\n                                    {file.name}\n                                </Typography>\n                                <div style={{flex: \"1 1 auto\"}}/>\n                                <IconButton>\n                                    <MoreVert/>\n                                </IconButton>\n                            </Toolbar>\n                            <LinearProgress variant={\"indeterminate\"}/>\n                        </AppBar>\n                    </HideOnScroll>\n                    <DialogContent className={\"bg-transparent\"}>\n                        <EmbeddedFileViewer file={file} onLoad={() => {\n                        }}/>\n                    </DialogContent>\n                </Dialog>\n            ) : null}\n        </div>\n    );\n};\n\nFileViewer.propTypes = {\n//    file: PropTypes.object.isRequired\n};\n\nFileViewer.defaultProps = {};\n\nexport default FileViewer;\n"],"sourceRoot":""}