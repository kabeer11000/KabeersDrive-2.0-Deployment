(this.webpackJsonpkabeersdrive=this.webpackJsonpkabeersdrive||[]).push([[11],{237:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r="".concat(window.location.protocol,"//").concat(window.location.host),a={getFolderById:function(e){return"".concat(r,"/api/get/folder/").concat(e||window.user.user_id)},getSharedFolderById:function(e){return"".concat(r,"/api/get/shared/folder/").concat(e)},getFolderByFake:function(e){return"https://raw.githubusercontent.com/kabeer11000/sample-response/master/Drive/folder.json"},changeFileSharing:function(e){return"".concat(r,"/api/sharing/file/").concat(e)},changeFileSharingFake:function(e,t){return"https://cdn.jsdelivr.net/gh/kabeer11000/sample-response@master/Drive/folder.json"},noPreviewAvailable:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/modal/no-preview.php?d=".concat(e)},textFileViewer:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/uViewFile.php?id=".concat(e)},documentViewer:function(e){return"https://docs.google.com/gview?url=".concat(e,"&embedded=true")},fileDownloadById:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/downloaders/download-file.php?id=".concat(e)},searchByQuery:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=".concat(e)},userGetAllContentsMyDrive:"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all",userGetAllContentsFolder:function(e){return"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all&folder=".concat(e)},userSearchContentsMyDrive:"http://drive.hosted-kabeersnetwork.unaux.com/server/api/search.php?q=filter:all",loginByUuid:"http://drive.hosted-kabeersnetwork.unaux.com/server/api/login.php",internalLoginComponentRoute:"/login",fileUpload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"".concat(r,"/api/upload/").concat(e)},authRedirect:"".concat(r,"/auth/redirect"),refreshToken:"".concat(r,"/auth/store/tokens/refresh"),getRecentFiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"".concat(r,"/api/get/recent/file/").concat(e||"")},getFileDetailsById:function(e){return"".concat(r,"/api/get/file/").concat(e)},createNewFolder:function(){return"".concat(r,"/api/create/new/folder")},getUserData:"".concat(r,"/auth/user/data"),filePath:"http://kabeer11000.mzzhost.com/",filePathReadFile:function(e){return"https://vector-kabeersnetwork.000webhostapp.com/view-text.php?i=".concat(e)},filePathRaw:function(e){return"https://vector-kabeersnetwork.000webhostapp.com/drive-hosted/".concat(e)},bulkDeleteFiles:"".concat(r,"/api/delete/bulk/file"),deleteOneFile:function(e){return"".concat(r,"/api/delete/file/").concat(e)}}},240:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={searchResults:"searchResults____bEBwhcQE1V",userData:"userData____arP4OlQ8QC"}},241:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return d}));var r=n(238),a=n.n(r),c=n(239),o=n(48),i=n(237),u=(n(0),function(e){return e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce((function(e,t){var n=t.split("="),r=Object(o.a)(n,2),a=r[0],c=r[1];return e[a]=c?decodeURIComponent(c.replace(/\+/g," ")):"",e}),{}):{}}),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("a"),e.abrupt("return",(n.setAttribute("download",t.name),n.href=i.a.fileDownloadById(t.id),document.body.appendChild(n),n.click(),n.remove()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s={files:{includeScore:!1,useExtendedSearch:!1,shouldSort:!1,threshold:.5,findAllMatches:!1,minMatchCharLength:0,keys:["name","mimeType","shared","dateCreated"]},folders:{includeScore:!1,useExtendedSearch:!1,shouldSort:!1,threshold:.5,findAllMatches:!1,minMatchCharLength:0,keys:["name","shared"]}},d=function(e){return Object.keys(e).reduce((function(t,n){return t.push(n+"="+encodeURIComponent(e[n])),t}),[]).join("&")}},243:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(238),a=n.n(r),c=n(239),o=n(237),i=n(240),u=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""},l=function(){return!!u("token")},s=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new AbortController,c=u("token")){e.next=4;break}return e.abrupt("return",window.location.href=o.a.authRedirect);case 4:if(c=JSON.parse(c),!(Math.floor((Date.now()-c.exp)/1e3/60)>120)){e.next=9;break}return e.next=8,fetch(o.a.refreshToken,{signal:r.signal},5e3).then((function(e){return e.ok?e.json():null}));case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",c.token);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u("user_data_token")){e.next=2;break}return e.abrupt("return",window.location.href=o.a.authRedirect);case 2:if(null!==localStorage.getItem(i.a.userData)){e.next=6;break}return e.abrupt("return",fetch(o.a.getUserData,{headers:new Headers({IdToken:JSON.parse(u("user_data_token")).token})}).then((function(e){return e.json()})).then((function(e){return localStorage.setItem(i.a.userData,btoa(JSON.stringify(e)))})).catch((function(e){return console.log(e)})));case 6:return e.next=8,void(window.user=JSON.parse(atob(localStorage.getItem(i.a.userData))));case 8:case"end":return e.stop()}}),e)})))()},244:function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return k}));var r=n(238),a=n.n(r),c=n(239),o=n(237),i=n(254),u=n(241),l=n(240),s=n(243),d=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:new AbortController,e.next=3,fetch(o.a.getFolderById(t),{headers:new Headers({Authorization:"Bearer ".concat(n)}),signal:r.signal}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,c=i.length>3&&void 0!==i[3]?i[3]:new AbortController,e.next=4,fetch(o.a.fileUpload(r||JSON.parse(atob(localStorage.getItem(l.a.userData))).user_id),{method:"POST",headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:c.signal,body:n}).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=(function(e){var t=new Blob(["self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);r.json=function(e){return"object"===typeof e?postMessage(JSON.stringify(e).toString()):new Error("Property Not an Object")},r.end=function(){return r.postMessage("end")},r.get=r.onmessage}((function(e){var t=JSON.parse(e.data);fetch(t.url,t).then((function(e){return e.json()})).then((function(e){return postMessage(JSON.stringify(e))}))})),function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:void 0,c=i.length>3&&void 0!==i[3]?i[3]:new AbortController,e.next=4,fetch(o.a.createNewFolder(),{method:"POST",headers:new Headers({Authorization:"Bearer ".concat(t),"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}),signal:c.signal,body:Object(u.d)({name:n||"Untitled Folder",id:r})}).then((function(e){return e.json()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:new AbortController,e.abrupt("return",Object(s.b)().then((function(e){return fetch(o.a.changeFileSharing(t),{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Authorization:"Bearer ".concat(e)}),body:Object(u.d)({sharing:n}),signal:r.signal})})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:new AbortController,e.abrupt("return",Object(s.b)().then((function(e){return fetch(o.a.bulkDeleteFiles,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Authorization:"Bearer ".concat(e)}),body:Object(u.d)({ids:t.join("|")}),signal:n.signal})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,e.abrupt("return",n?fetch(o.a.userGetAllContentsFolder(n),{}).then((function(e){return e.json()})).then((function(e){return{files:new i.a(e.items.files,u.b.files).search(t),folders:new i.a(e.items.folders,u.b.folders).search(t)}})):fetch("http://cdn.jsdelivr.net/gh/kabeer11000/sample-response/Drive/search-filter-all.json").then((function(e){return e.json()})).then((function(e){return{files:new i.a(e.items.files,u.b.files).search(t),folders:new i.a(e.items.folders,u.b.folders).search(t)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>2&&void 0!==r[2]?r[2]:10,e.next=3,fetch(o.a.getRecentFiles(10),{headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:n.signal}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o.a.getFileDetailsById(r),{headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:n.signal}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:new AbortController,e.next=3,fetch(o.a.getFolderById(n),{headers:new Headers({Authorization:"Bearer ".concat(t)}),signal:r.signal}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},255:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(286),a=n(287),c=n(288),o=n(289),i=n(290),u=n(291),l=n(292),s=n(0),d=n.n(s),f=(n(237),function(e){switch(e){case"image":return d.a.createElement(r.a,null);case"video":return d.a.createElement(a.a,null);case"code":return d.a.createElement(c.a,null);case"document":return d.a.createElement(o.a,null);case"text":return d.a.createElement(i.a,null);case"pdf":return d.a.createElement(u.a,null);default:return d.a.createElement(l.a,null)}})},263:function(e,t,n){},285:function(e,t,n){"use strict";n.r(t),n.d(t,"HideOnScroll",(function(){return P}));var r=n(238),a=n.n(r),c=n(239),o=n(48),i=n(50),u=n(0),l=n.n(u),s=(n(263),n(230)),d=n(195),f=n(235),p=n(293),h=n(347),m=n(264),b=n.n(m),g=n(265),v=n.n(g),w=n(343),k=n(229),E=n(346),x=n(101),j=n(294),y=n(296),O=n(196),F=n(244),S=n(295),C=n(402),B=n(403),N=n(255),A=n(241),I=n(344),R=n(83),D=Object(s.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"90%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}})),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.a)(Object(i.a)({},e),{},{direction:"down",appear:!1}),t=e.children,n=e.window,r=Object(E.a)({target:n?n():void 0});return l.a.createElement(k.a,{appear:e.appear,direction:e.direction,in:!r},t)},T=function(e){var t=D(),n=l.a.useState(null),r=Object(o.a)(n,2),i=r[0],u=r[1],s=l.a.useContext(R.a),m=Object(o.a)(s,2),g=m[0],k=m[1],E=l.a.useContext(R.c),x=Object(o.a)(E,2),T=x[0],U=x[1],z=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(F.i)(t.target.value,Object(A.c)("id").id||null).then(u).catch((function(e){return null})).then((function(){return console.log("called")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(P,{style:{zIndex:"5"}},l.a.createElement(w.a,{elevation:0,className:"bg-transparent",position:"sticky"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(d.a,{component:"form",className:"".concat(t.root,"  mt-3"),style:{top:"50%",left:"50%",zIndex:"5"}},l.a.createElement(h.a,{className:t.iconButton,"aria-label":"menu",onClick:k},g?l.a.createElement(C.a,null):l.a.createElement(b.a,null)),l.a.createElement(f.a,{onClick:function(){return U(!T)},onKeyUp:z,className:t.input,placeholder:"Search ".concat(e.title)||!1,inputProps:{"aria-label":"search kabeers drive"}}),l.a.createElement(I.a,{in:!1,direction:"right"},l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:t.divider,orientation:"vertical"}),l.a.createElement(h.a,{className:t.iconButton,"aria-label":"directions"},l.a.createElement(v.a,null)))))),T?l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(d.a,{className:"mt-0",style:{width:"90vw",maxWidth:"90vw",maxHeight:"82.5vh",overflow:"hidden",zIndex:"5"}},i?l.a.createElement(l.a.Fragment,null,i.files.map((function(e,t){return l.a.createElement(j.a,{button:!0,key:t},l.a.createElement(S.a,null,Object(N.a)(e.item.mimeType)),l.a.createElement(y.a,{primary:"".concat(e.item.name)}))})),i.folders.map((function(e,t){return l.a.createElement(j.a,{button:!0,key:t},l.a.createElement(S.a,null,l.a.createElement(B.a,null)),l.a.createElement(y.a,{primary:"".concat(e.item.name)}))}))):null))):null)),l.a.createElement(O.a,{open:T,style:{zIndex:"3"},onClick:function(){return U(!T)}}))};T.defaultProps={},t.default=Object(x.a)(T)},350:function(e,t,n){},372:function(e,t){},373:function(e,t){},374:function(e,t){},375:function(e,t){},376:function(e,t){},411:function(e,t,n){"use strict";n.r(t);var r=n(48),a=n(238),c=n.n(a),o=n(239),i=n(0),u=n.n(i),l=(n(350),n(343)),s=n(347),d=n(302),f=n(402),p=n(303),h=n(225),m=n(120),b=n(229),g=n(106),v=n.n(g),w=n(243),k=n(244),E=n(121),x=n(385),j=n(13),y=n(284),O=n(412),F=n(285),S=n(378),C=n.n(S),B=n(237),N=n(380),A=v()((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),I=u.a.forwardRef((function(e,t){return u.a.createElement(b.a,Object.assign({direction:"left",ref:t},e))})),R=function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,a=n.signal,e.next=4,fetch(r,{signal:a}).then((function(e){return e.text()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(e){var t=e.url,n=Object(N.a)({promiseFn:R,url:t}),r=n.data,a=n.error;return u.a.createElement("code",null,u.a.createElement("pre",{style:{wordWrap:"break-word",whiteSpace:"pre-wrap"}},a?a.message:r))},P=function(e){switch(e.file.type){case"image":return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:{transform:"translate(0%, 0%)",left:"50%",top:"50%"}},u.a.createElement("img",{onLoad:e.onLoad,loading:"lazy",className:"w-100 h-100",src:"".concat(B.a.filePathReadFile(e.file.path)),alt:e.file.name})));case"video":return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.a,{maxWidth:"xs"},u.a.createElement("div",{style:{transform:"translate(0%, 0%)",left:"50%",top:"50%"}},u.a.createElement("video",{className:"w-100 h-100",onLoad:e.onLoad,src:B.a.filePathReadFile(e.file.path)}))));case"document":return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.a,{maxWidth:"xs"},u.a.createElement(C.a,{fileUrl:B.a.filePathReadFile(e.file.path)})));case"pdf":return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.a,{maxWidth:"xs",style:{height:"100vh",width:"100vw"}},u.a.createElement(x.a,{file:B.a.filePathReadFile(e.file.path)},u.a.createElement(x.b,{pageNumber:0}))));case"text":case"code":default:return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.a,{maxWidth:"md"},u.a.createElement(D,{url:B.a.filePathReadFile(e.file.path)})))}},T=function(e){var t=window.location.pathname.split("/").slice(-1)[0],n=(A(),u.a.useState(!0)),a=Object(r.a)(n,2),c=a[0],o=a[1],b=u.a.useState(!1),g=Object(r.a)(b,2),v=g[0],x=g[1],y=new AbortController,S=Object(j.e)();return Object(i.useEffect)((function(){Object(w.a)()?Object(w.b)().then((function(e){return Object(k.e)(e,y,t).then((function(e){return x(e)})).catch((function(e){return S.goBack()}))})).catch((function(e){return null})):alert("Not Loggedin")}),[]),Object(i.useEffect)((function(){console.log(v)}),[v]),u.a.createElement("div",null,v?u.a.createElement(m.a,{fullScreen:!0,open:c,onClose:function(){o(!1),S.goBack()},TransitionComponent:I,PaperProps:{className:"bg-transparent",backgroundColor:"transparent"}},u.a.createElement(F.HideOnScroll,null,u.a.createElement(l.a,{position:"static",elevation:2,className:"bg-transparent"},u.a.createElement(d.a,null,u.a.createElement(s.a,{onClick:function(){S.goBack()},edge:"start",color:"inherit","aria-label":"menu"},u.a.createElement(f.a,null)),u.a.createElement(h.a,{variant:"h6",className:"text-truncate",noWrap:!0},v.name),u.a.createElement("div",{style:{flex:"1 1 auto"}}),u.a.createElement(s.a,null,u.a.createElement(p.a,null))),u.a.createElement(O.a,{variant:"indeterminate"}))),u.a.createElement(E.a,{className:"bg-transparent"},u.a.createElement(P,{file:v,onLoad:function(){}}))):null)};T.defaultProps={},t.default=T}}]);
//# sourceMappingURL=11.81653638.chunk.js.map